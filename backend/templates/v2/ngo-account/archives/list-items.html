{% load i18n %}

{% if archive_jobs|length == 0 %}

  <tr class="text-sm text-gray-600">
    <td class="py-4 pl-4 pr-3 font-medium text-gray-900 sm:pl-0" colspan="5">
      {% trans "No archives were generated" %}
    </td>
  </tr>

{% else %}

  {% for archive in archive_jobs %}
    <tr class="text-sm text-gray-600">

      {% comment %}
        The `forloop.counter` should be (forloop.counter + (page_obj.number * page_obj.paginator.per_page))
        <td class="whitespace-nowrap py-4 pl-4 pr-3 font-medium text-gray-900 sm:pl-0">
          {{ forloop.counter }}
        </td>
      {% endcomment %}
      <td class="whitespace-normal py-4 pl-4 pr-3 font-medium text-gray-900 sm:pl-0">
        {{ archive.date_created|date:"SHORT_DATE_FORMAT" }}
      </td>
      <td class="whitespace-nowrap px-1 py-4">
        {% if archive.status == "done" %}
          {% trans "Done" %}
        {% elif archive.status == "new" %}
          {% trans "In progress" %}
        {% elif archive.status == "error" %}
          {% trans "Error" %}
        {% endif %}
      </td>
      <td class="whitespace-nowrap px-1 py-4">
        <a href="{% url 'admin-download-link' job_id=archive.pk %}">
          {% trans "Download" %}
        </a>
      </td>

    </tr>
  {% endfor %}

{% endif %}
